## Chapter 11 类

### 结构体与对象聚合

- 结构体：对基本数据结构进行扩展，将多个对象放置在一起视为一个整体
  - 结构体的声明与定义（注意定义后面要跟分号来表示结束）
  
  - 仅有声明的结构体是不完全类型（incomplete type）
  
  - 结构体（以及类）的一处定义原则：翻译单元级别
- 数据成员（数据域）的声明与初始化
  - （C++）数据成员可以使用decltype来声明其类型，但不能使用auto
  
  - 数据成员声明时可以引入const、引用等限定
  
  - 数据成员会在构造类对象时定义
  
  - （C++）类内成员初始化
  
  - 聚合初始化：从初始化列表到指派初始化器
- mutable限定符（对结构体内部成员使用，在结构体为const的时候仍可以赋值）
- 静态数据成员——多个对象之间共享的数据成员
  - 定义方式的衍化
    - C++98：类外定义，const静态成员的类内初始化
  
    - C++17：内联静态成员的初始化
  
  - 可以使用auto推导类型
- 静态数据成员的访问
  - “.”与“->“操作符
  
  - “::”操作符
- 在类的内部声明相同类型的静态数据成员

### 成员函数

- 可以在结构体中定义函数，作为其成员的一部分：对内操作数据成员，对外提供调用接口

  ```c++
  struct Str 
  {
  	int x = 3;
  	void fun()// 不用加形参int x（内部成员）
  	{
  		std::cout<< x <<std::endl;
  	}
  };
  
  class Str 
  {
  public:
      int x = 3;
  	void fun()// 不用加形参int x（内部成员）
  	{
  		std::cout<< x <<std::endl;
  	}
  };
  ```

  - 在结构体中将数据与相关的成员函数组合在一起将形成类，是C++在C基础上引入的概念
  - 关键字class
  - 类可视为一种抽象数据类型，通过相应的接口（成员函数）进行交互
  - 类本身形成域，称为类域

- 成员函数的声明与定义

  - 类内定义（隐式内联）

  - 类内声明 + 类外定义 

    ```c++
    void Str::fun()
    {
    	std::cout<< x << std::endl;
    }
    ```

  - 类与编译期的两遍处理：内部成员的声明顺序可打乱，因为编译了两遍

  - 成员函数与尾随返回类型（trail returning type）

    ```c++
    auto Str::fun() -> MyRes // auto 类型参考MyRes推导
    {
    	return x;
    }
    ```

- 成员函数与this指针
